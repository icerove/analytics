(this["webpackJsonpanalytics-frontend"]=this["webpackJsonpanalytics-frontend"]||[]).push([[0],{22:function(e,t,r){},27:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"setUsername",(function(){return l})),r.d(n,"setEmail",(function(){return p})),r.d(n,"setPassword",(function(){return d})),r.d(n,"setProjectName",(function(){return j})),r.d(n,"setTitle",(function(){return h})),r.d(n,"setInputQuery",(function(){return f})),r.d(n,"setChartType",(function(){return g})),r.d(n,"setProjectId",(function(){return y})),r.d(n,"setQueryId",(function(){return b})),r.d(n,"setResult",(function(){return x})),r.d(n,"setOutputQuery",(function(){return O})),r.d(n,"setError",(function(){return m})),r.d(n,"goPath",(function(){return v})),r.d(n,"_setState",(function(){return w}));var o=r(0),a=r.n(o),c=r(13),u=r.n(c),s=r(11),i=r(15),l=function(e,t){var r=t.username;return e.set("username",r)},p=function(e,t){var r=t.email;return e.set("email",r)},d=function(e,t){var r=t.password;return e.set("password",r)},j=function(e,t){var r=t.projectName;return e.set("projectName",r)},h=function(e,t){var r=t.title;return e.set("title",r)},f=function(e,t){var r=t.query;return e.set("query",r)},g=function(e,t){var r=t.chartType;return e.set("chartType",r)},y=function(e,t){var r=t.projectId;return e.set("projectId",r)},b=function(e,t){var r=t.queryId;return e.set("queryId",r)},x=function(e,t){var r=t.result;return e.set("result",r)},O=function(e,t){var r=t.query;return e.set("outputQuery",r)},m=function(e,t){var r=t.error;return e.set("error",r)},v=function(e,t){var r=t.path,n=new URL(window.location);return n.pathname=r,window.history.pushState({},"",n),e.set("path",r)},w=function(e,t){return t.newState};window.setState=function(e){W("_setState",{newState:e})};var I=r(14),S=r(6),C=r.n(S),q=r(7),N=r(28),T=r(29),k=r(30);function Q(e,t,r,n){return P.apply(this,arguments)}function P(){return(P=Object(q.a)(C.a.mark((function e(t,r,n,o){var a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new Headers).append("Content-Type","application/json"),c=JSON.stringify({username:t,email:r,password:n}),fetch("http://35.236.73.215/user/signup",{method:"POST",headers:a,body:c,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),localStorage.setItem("user",e)})).catch((function(e){o("setError",{error:e}),console.log("error",e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(q.a)(C.a.mark((function e(t,r){var n,o,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Headers).append("Content-Type","application/json"),o=localStorage.getItem("user"),o=JSON.parse(o),a=o.token,n.append("Authorization","Bearer "+a),a){e.next=10;break}return console.log("No User found signup or login"),r("setError",{error:"No User found signup or login"}),e.abrupt("return");case 10:c=JSON.stringify({projectName:t}),fetch("http://35.236.73.215/project",{method:"POST",headers:n,body:c,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),e=JSON.parse(e),r("setProjectId",{projectId:e.project_id})})).catch((function(e){r("setError",{error:e}),console.log("error",e)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,r,n,o){return G.apply(this,arguments)}function G(){return(G=Object(q.a)(C.a.mark((function e(t,r,n,o,a){var c,u,s,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=new Headers).append("Content-Type","application/json"),u=localStorage.getItem("user"),u=JSON.parse(u),s=u.token,c.append("Authorization","Bearer "+s),s){e.next=10;break}return console.log("No User found signup or login"),a("setError",{error:"No User found signup or login"}),e.abrupt("return");case 10:i=JSON.stringify({title:t,query:r,chartType:n,projectId:o}),fetch("http://35.236.73.215/query",{method:"POST",headers:c,body:i,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),e=JSON.parse(e),a("setQueryId",{queryId:e.query_id})})).catch((function(e){a("setError",{error:e}),console.log("error",e)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return L.apply(this,arguments)}function L(){return(L=Object(q.a)(C.a.mark((function e(t,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Headers).append("Content-Type","application/json"),fetch("http://35.236.73.215/query/"+t,{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),e=JSON.parse(e),r("setTitle",{title:e.title}),r("setOutputQuery",{query:e.query}),r("setChartType",{chartType:e.chart_type})})).catch((function(e){r("setError",{error:e}),console.log("error",e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return H.apply(this,arguments)}function H(){return(H=Object(q.a)(C.a.mark((function e(t,r){var n,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new Headers).append("Content-Type","application/json"),console.log("come here"),o=JSON.stringify({query:t}),fetch("http://35.236.73.215/connect",{method:"POST",headers:n,body:o,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),e=JSON.parse(e),r("setResult",{result:e})})).catch((function(e){r("setError",{error:e}),console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(22);var R=r(1);function _(e){var t=e.state;var r=function(){var e=Object(q.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,Q(t.get("username"),t.get("email"),t.get("password"),W);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(q.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,z(t.get("projectName"),W);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(q.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,E(t.get("title"),t.get("query"),t.get("chartType"),t.get("projectId"),W);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)(N.a,{children:[Object(R.jsxs)(N.a,{children:[Object(R.jsx)("h3",{children:"Sign Up form"}),Object(R.jsxs)(T.a,{onSubmit:r,children:[Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"username",children:[Object(R.jsx)(T.a.Label,{children:"Username"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"text",value:t.get("username"),onChange:function(e){return W("setUsername",{username:e.target.value})}})]}),Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"email",children:[Object(R.jsx)(T.a.Label,{children:"Email"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"email",value:t.get("email"),onChange:function(e){return W("setEmail",{email:e.target.value})}})]}),Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"password",children:[Object(R.jsx)(T.a.Label,{children:"Password"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"text",value:t.get("password"),onChange:function(e){return W("setPassword",{password:e.target.value})}})]}),Object(R.jsx)(k.a,{block:!0,size:"lg",type:"submit",disabled:!(t.get("username").length>0&&t.get("email").length>0&&t.get("password").length>0),children:"Sign Up"})]})]}),Object(R.jsxs)(N.a,{children:[Object(R.jsx)("h3",{children:"Create Project"}),Object(R.jsxs)(T.a,{onSubmit:n,children:[Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"projectName",children:[Object(R.jsx)(T.a.Label,{children:"Project Name"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"text",value:t.get("projectName"),onChange:function(e){return W("setProjectName",{projectName:e.target.value})}})]}),Object(R.jsx)(k.a,{block:!0,size:"lg",type:"submit",disabled:0===t.get("projectName").length,children:"Create Project"})]}),Object(R.jsxs)("p",{children:["project id ",t.get("projectId")]})]}),Object(R.jsxs)(N.a,{children:[Object(R.jsx)("h3",{children:"Create Query"}),Object(R.jsxs)(T.a,{onSubmit:o,children:[Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"title",children:[Object(R.jsx)(T.a.Label,{children:"Title"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"text",value:t.get("title"),onChange:function(e){return W("setTitle",{title:e.target.value})}})]}),Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"query",children:[Object(R.jsx)(T.a.Label,{children:"Query"}),Object(R.jsx)(T.a.Control,{as:"textarea",rows:5,autoFocus:!0,type:"text",value:t.get("query"),onChange:function(e){return W("setInputQuery",{query:e.target.value})}})]}),Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"query",children:[Object(R.jsx)(T.a.Label,{children:"Query"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"text",value:t.get("chartType"),onChange:function(e){return W("setChartType",{chartType:e.target.value})}})]}),Object(R.jsx)(k.a,{block:!0,size:"lg",type:"submit",disabled:!(t.get("title").length>0&&t.get("query").length>0&&t.get("chartType").length>0&&"number"===typeof t.get("projectId")),children:"Create Query"})]}),Object(R.jsxs)("p",{children:["query id ",t.get("queryId")]})]}),Object(R.jsx)("style",{children:"\n    .container {\n      width: 80%;\n      max-width: 1200px;\n      margin: auto;\n      margin-top: 50px;\n      margin-bottom: 32px;\n      text-align: center;\n      font-family: 'Inter', sans-serif;\n    }\n    "})]})}var D={"/":_,"/display":function(e){var t=e.state,r=function(){var e=Object(q.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,U(t.get("queryId"),W);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(q.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t.get("outputQuery"),W);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)(N.a,{children:[Object(R.jsxs)(N.a,{children:[Object(R.jsx)("h3",{children:"Get Query"}),Object(R.jsxs)(T.a,{onSubmit:r,children:[Object(R.jsxs)(T.a.Group,{size:"lg",controlId:"queryId",children:[Object(R.jsx)(T.a.Label,{children:"QueryId"}),Object(R.jsx)(T.a.Control,{autoFocus:!0,type:"number",value:t.get("queryId"),onChange:function(e){return W("setQueryId",{queryId:e.target.value})}})]}),Object(R.jsx)(k.a,{block:!0,size:"lg",type:"submit",disabled:!t.get("queryId"),children:"Get Query"})]})]}),Object(R.jsxs)("p",{children:["Query: ",t.get("outputQuery")]}),Object(R.jsx)(k.a,{block:!0,size:"lg",onClick:n,disabled:!t.get("outputQuery"),children:"Get Result"}),t.get("result")&&Object(R.jsx)(N.a,{children:t.get("result").length>0?Object(R.jsx)("p",{children:JSON.stringify(t.get("result"))}):Object(R.jsx)("p",{children:JSON.stringify(t.get("result")[0])})}),Object(R.jsx)("style",{children:"\n    .container {\n      width: 80%;\n      max-width: 1200px;\n      margin: auto;\n      margin-top: 50px;\n      margin-bottom: 32px;\n      text-align: center;\n      font-family: 'Inter', sans-serif;\n    }\n    "})]})}};var B=Object(I.a)({username:"",email:"",password:"",projectName:"",title:"",query:"",chartType:"line",projectId:"",userId:"",queryId:"",outputQuery:"",result:null,error:"",path:window.location.pathname}),A=Object(o.createContext)(B),M=A.Provider,K=function(e){var t=e.children,r=Object(o.useReducer)((function(e,t){return n[t.type](e,t)}),B),a=Object(i.a)(r,2),c=a[0],u=a[1];return Object(R.jsx)(M,{value:{state:c,dispatch:u},children:t})},V=function(e){};function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V(Object(s.a)(Object(s.a)({},t),{},{type:e}))}function X(){var e=Object(o.useContext)(A),t=e.state,r=e.dispatch;V=r,window.state=t;var n,a=(n=t.get("path"),console.log(n),D[n]||_);return Object(R.jsx)(a,{state:t})}function Y(){return Object(R.jsx)(K,{children:Object(R.jsx)(X,{})})}window.d=W,u.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(Y,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.2853837b.chunk.js.map